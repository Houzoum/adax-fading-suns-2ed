<form class="{{cssClass}}" autocomplete="off">
  <header class="sheet-header">
    <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Nom de l'objet"/></h1>
    </div>
  </header>

  <section class="sheet-body">

    <!-- ====================================================================== -->
    <!-- SECTION SPÉCIFIQUE AU TYPE D'ITEM                                      -->
    <!-- ====================================================================== -->

    <!-- Champs pour les COMPÉTENCES ACQUISES -->
    {{#if (eq item.type "competenceAcquise")}}
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.charDefault"}}</label>
        <select name="system.characteristic">
            {{selectOptions config.characteristics}}
        </select>
    </div>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.hasSpec"}}</label>
        <input type="checkbox" name="system.hasSpecialization" {{checked system.hasSpecialization}} />
    </div>
    {{/if}}

    <!-- Champs pour les QUALITÉS & DÉFAUTS -->
    {{#if (eq item.type "qualiteDefaut")}}
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.type"}}</label>
        <select name="system.type">
            {{selectOptions config.blessingOrCurse}}
        </select>
    </div>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.cost"}}</label>
        <input type="number" name="system.cost" value="{{system.cost}}"/>
    </div>
    {{/if}}

    <!-- Champs pour les ATOUTS & HANDICAPS -->
    {{#if (eq item.type "atoutHandicap")}}
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.type"}}</label>
        <select name="system.type">
            {{selectOptions config.beneficeOrAffliction}}
        </select>
    </div>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.category"}}</label>
        <input type="text" name="system.category" value="{{system.category}}"/>
    </div>
    <hr/>
    <h4>{{localize "ADAX-FS2.itemSheet.simpleTrait"}}</h4>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.cost"}}</label>
        <input type="number" name="system.cost" value="{{system.cost}}"/>
    </div>
    <hr/>
    <div class="flex-group-center">
        <h4>{{localize "ADAX-FS2.itemSheet.multipleLevels"}}</h4>
        <input type="checkbox" name="system.hasLevels" {{checked system.hasLevels}}/>
    </div>
    {{#if system.hasLevels}}
    <div class="levels-list">
        <div class="level-row header">
            <span>{{localize "ADAX-FS2.itemSheet.level.name"}}</span>
            <span>{{localize "ADAX-FS2.itemSheet.level.cost"}}</span>
            <span>{{localize "ADAX-FS2.itemSheet.level.description"}}</span>
            <span></span>
        </div>
        {{#each system.levels as |level index|}}
        <div class="level-row">
            <input type="text" name="system.levels.{{index}}.name" value="{{level.name}}"/>
            <input type="number" name="system.levels.{{index}}.cost" value="{{level.cost}}"/>
            <input type="text" name="system.levels.{{index}}.description" value="{{level.description}}"/>
            <a class="delete-level" data-type="levels" data-index="{{index}}"><i class="fas fa-trash"></i></a>
        </div>
        {{/each}}
        <a class="add-level" data-type="levels"><i class="fas fa-plus"></i> {{localize "ADAX-FS2.itemSheet.level.add"}}</a>
    </div>
    {{/if}}
    <hr/>
    <div class="flex-group-center">
        <h4>{{localize "ADAX-FS2.itemSheet.additionalOptions"}}</h4>
        <input type="checkbox" name="system.hasOptions" {{checked system.hasOptions}}/>
    </div>
    {{#if system.hasOptions}}
    <div class="levels-list">
        <div class="level-row header">
            <span>{{localize "ADAX-FS2.itemSheet.level.name"}}</span>
            <span>{{localize "ADAX-FS2.itemSheet.level.cost"}}</span>
            <span>{{localize "ADAX-FS2.itemSheet.level.description"}}</span>
            <span></span>
        </div>
        {{#each system.options as |option index|}}
        <div class="level-row">
            <input type="text" name="system.options.{{index}}.name" value="{{option.name}}"/>
            <input type="number" name="system.options.{{index}}.cost" value="{{option.cost}}"/>
            <input type="text" name="system.options.{{index}}.description" value="{{option.description}}"/>
            <a class="delete-level" data-type="options" data-index="{{index}}"><i class="fas fa-trash"></i></a>
        </div>
        {{/each}}
        <a class="add-level" data-type="options"><i class="fas fa-plus"></i> {{localize "ADAX-FS2.itemSheet.option.add"}}</a>
    </div>
    {{/if}}
    {{/if}}

    <!-- ====================================================================== -->
    <!-- SECTION COMMUNE À TOUS LES ITEMS                                       -->
    <!-- ====================================================================== -->

    <hr/>

    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.icon"}}</label>
        <input type="text" name="system.icon" value="{{system.icon}}"/>
    </div>
    
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.description"}}</label>
        <textarea name="system.description">{{system.description}}</textarea>
    </div>

    <!-- Champs pour les ARMES -->
    {{#if (eq item.type "arme")}}
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.weaponTypes.label"}}</label>
            <select name="system.typeArme">
                {{selectOptions config.weaponTypes selected=system.typeArme}}
            </select>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.weaponSkills.label"}}</label>
            <select name="system.competence">
                {{selectOptions config.weaponSkills selected=system.competence}}
            </select>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.itemSizes.label"}}</label>
            <select name="system.siz">
                {{selectOptions config.itemSizes selected=system.siz}}
            </select>
        </div>
    </div>
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.damage.label"}} (d6)</label>
            <input type="number" name="system.dmg" value="{{system.dmg}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.init.label"}}</label>
            <input type="number" name="system.init" value="{{system.init}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.goal.label"}}</label>
            <input type="number" name="system.goal" value="{{system.goal}}"/>
        </div>
    </div>
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.rangeShort.label"}}</label>
            <input type="number" name="system.rngShort" value="{{system.rngShort}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.rangeLong.label"}}</label>
            <input type="number" name="system.rngLong" value="{{system.rngLong}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.strReq.label"}}</label>
            <input type="number" name="system.str" value="{{system.str}}"/>
        </div>
    </div>
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.rate.label"}}</label>
            <input type="text" name="system.rate" value="{{system.rate}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.shots.label"}}</label>
            <input type="number" name="system.shots" value="{{system.shots}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.cost"}} ({{localize "ADAX-FS2.currency"}})</label>
            <input type="number" name="system.cost" value="{{system.cost}}"/>
        </div>
    </div>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.notes.label"}}</label>
        <textarea name="system.notes" rows="3">{{system.notes}}</textarea>
    </div>
    {{/if}}

        <!-- Champs pour les ARMURES -->
    {{#if (eq item.type "armure")}}
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.armorTypes.label"}}</label>
            <select name="system.typeArmure">
                {{selectOptions config.armorTypes selected=system.typeArmure}}
            </select>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.defense.label"}} (d6)</label>
            <input type="number" name="system.defense" value="{{system.defense}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.strReq.label"}}</label>
            <input type="number" name="system.str" value="{{system.str}}"/>
        </div>
    </div>
    <div class="grid grid-3col">
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.dexPenalty.label"}}</label>
            <input type="number" name="system.dex" value="{{system.dex}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.vigorPenalty.label"}}</label>
            <input type="number" name="system.vigor" value="{{system.vigor}}"/>
        </div>
        <div class="form-group">
            <label>{{localize "ADAX-FS2.itemSheet.cost"}} ({{localize "ADAX-FS2.currency"}})</label>
            <input type="number" name="system.cost" value="{{system.cost}}"/>
        </div>
    </div>
    <div class="form-group">
        <label>{{localize "ADAX-FS2.itemSheet.notes.label"}}</label>
        <textarea name="system.notes">{{system.notes}}</textarea>
    </div>
    {{/if}}

  </section>
</form>